#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main() {
    printf("************************************\n");
    printf("* Bem vindo ao Jogo de Adivinhação *\n");
    printf("************************************\n");

    int chute;
    int acertou = 0;
    int tentativas = 1;
    double pontos = 1000;
    int nivel;

    printf("Qual nivel de dificuldade? \n");
    printf("(1) Facil (2) Medio (3) Dificil \n");
    scanf("%d", &nivel);

    int numero_tentativas;
    switch (nivel)
    {
    case 1:
    numero_tentativas = 20;
    case 2:
        numero_tentativas = 15;
    default:
        numero_tentativas = 6;
    }

    srand(time(0));
    int numerosecreto = rand() % 100;

    for(int i = 1; i <= numero_tentativas; i++) {
        printf("Qual é o seu %do. chute? ", tentativas);
        scanf("%d", &chute);

        if(chute < 0) {
            printf("Você não pode chutar números negativos\n");
            continue;
        }

        printf("Seu %do. chute foi %d\n", tentativas, chute);

        acertou = (chute == numerosecreto);
        int maior = (chute > numerosecreto);

        if(acertou) {
            break;
        } else if(maior) {
            printf("Seu chute foi maior do que o número secreto!\n");
        } else {
            printf("Seu chute foi menor do que o número secreto!\n");
        }

        tentativas++;

        double pontosperdidos = abs(chute - numerosecreto) / 2.0;
        pontos = pontos - pontosperdidos;
    }

    printf("\nFim de jogo!\n");

    if (acertou){
        printf("Parabens! Voce acertou!\n");
        printf("Voce fez %.2f pontos\n", pontos);
    } else {
        printf("Voce perdeu. O número secreto era %d\n", numerosecreto);
    }

    printf("Obrigado por jogar!\n");
    return 0;
}
